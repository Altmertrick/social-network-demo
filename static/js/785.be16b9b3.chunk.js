"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[785],{9785:function(e,s,t){t.r(s),t.d(s,{default:function(){return X}});var r=t(8683),a=t(5671),i=t(3144),o=t(136),n=t(2882),u=t(2791),l=t(1539),c="MyPosts_myPostsWrapper__ZQ3AE",d="MyPosts_postsBlock__lB-pf",p="Post_item__Yu4oG",h=t(184),f=function(e){return(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"https://thumbs.dreamstime.com/b/avatar-icon-black-round-avatar-flat-symbol-isolated-white-background-avatar-simple-icon-avatar-abstract-icon-black-vector-124920467.jpg"})}),(0,h.jsxs)("div",{children:[e.message,(0,h.jsxs)("div",{children:["likes: ",e.likes]})]})]})},m=t(2381),x=t(6139),j=t(704),v=t(1557),g=t(8323),P=(0,v.B)(10),_=function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(x.Z,{validate:[P],name:"newPostText",component:g.F,inputTag:"textarea",type:"text",placeholder:"Write your post"})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add Post"})})]})};_=(0,j.Z)({form:"profileAddPostForm"})(_);var S=function(e){var s=e.posts.map((function(e){return(0,h.jsx)(f,{id:e.id,message:e.text,likes:e.likes},e.id)}));return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("h3",{children:"My Posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(_,{onSubmit:function(s,t){console.log(s),e.addPost(s.newPostText),t((0,m.mc)("profileAddPostForm"))}})}),(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("h4",{children:"Posts:"}),s]})]})},b=t(8687),k=t(9621),I=(0,b.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,k.Pi)(s))}}}))(S),U=t(885),y="ProfileInfo_profileInfoWrapper__NQlSq",D="ProfileInfo_descriptionBlock__XBXuJ",Z="ProfileInfo_imageBlock__8p3Ta",N="ProfileInfo_imageWrapper__1lDv2",F="ProfileInfo_mainPhoto__QU8TO",w="ProfileInfo_selectImgBtn__g7GwY",C="ProfileInfo_formControl__fWmIh",O="ProfileInfo_error__Vu9Ki",A="ProfileInfo_contacts__hKq1Z",T=t(1243),B=function(e){var s=(0,u.useState)(!1),t=(0,U.Z)(s,2),r=t[0],a=t[1],i=(0,u.useState)(e.userStatus),o=(0,U.Z)(i,2),n=o[0],l=o[1];(0,u.useEffect)((function(){l(e.userStatus),console.log("Use Effect")}),[e.userStatus]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onClick:function(){a(!0)},children:e.userStatus||"Status: ----"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{value:n,autoFocus:!0,onChange:function(e){l(e.target.value)},onBlur:function(){a(!1),e.updateUserStatus(n)}})})]})},M=function(e){var s=e.userData;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:["Full Name: ",s.fullName]}),(0,h.jsxs)("div",{children:["About Me: ",s.aboutMe]}),(0,h.jsxs)("div",{children:["Looking for a job:",(0,h.jsx)("input",{type:"checkbox",checked:s.lookingForAJob,readOnly:!0})]}),(0,h.jsxs)("div",{children:["Skills : ",s.lookingForAJobDescription]}),(0,h.jsxs)("div",{className:A,children:[(0,h.jsx)("h3",{children:"Contacts"}),Object.keys(s.contacts).map((function(e){return(0,h.jsxs)("div",{children:[e," : ",s.contacts[e]]},e)}))]})]})},J=(0,j.Z)({form:"profileDataForm"})((function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)("button",{children:"save"}),(0,h.jsxs)("div",{children:["Full Name:",(0,h.jsx)(x.Z,{name:"fullName",component:g.F,inputTag:"input",type:"text",placeholder:"full name"})]}),(0,h.jsxs)("div",{children:["About me:",(0,h.jsx)(x.Z,{name:"aboutMe",component:g.F,inputTag:"input",type:"text",placeholder:"about me"})]}),(0,h.jsxs)("div",{children:["Looking for a job:",(0,h.jsx)(x.Z,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),(0,h.jsxs)("div",{children:["Skills :",(0,h.jsx)(x.Z,{name:"lookingForAJobDescription",component:g.F,inputTag:"textarea",type:"text",placeholder:"your skills"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"Contacts"}),Object.keys(e.userData.contacts).map((function(e){return(0,h.jsxs)("div",{children:[e,":",(0,h.jsx)(x.Z,{name:"contacts.".concat(e),component:g.F,inputTag:"input",type:"text"})]},e)})),(0,h.jsx)("br",{})]}),e.error&&(0,h.jsx)("div",{className:"".concat(C," ").concat(O),children:(0,h.jsx)("span",{children:e.error})})]})})),W=function(e){var s=(0,u.useState)(!1),t=(0,U.Z)(s,2),r=t[0],a=t[1];return(0,h.jsxs)("div",{className:y,children:[(0,h.jsx)("h3",{children:"Profile Info"}),(0,h.jsx)("div",{className:Z,children:e.isUploading?(0,h.jsx)(l.Z,{}):(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)("img",{className:F,src:"".concat(e.userData.photos.large?e.userData.photos.large:T)}),e.isOwner&&(0,h.jsxs)("label",{htmlFor:"chooseImg",className:w,children:["Select Image",(0,h.jsx)("input",{id:"chooseImg",type:"file",onChange:function(s){var t=s.target.files[0];e.saveImage(t)},accept:"image/png, image/jpg, image/gif, image/jpeg"})]})]})}),(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)("div",{children:(0,h.jsx)("h4",{children:e.userData.fullName})}),(0,h.jsx)(B,{userStatus:e.userStatus,updateUserStatus:e.updateUserStatus}),(0,h.jsxs)("div",{children:["User Id: ",e.userData.userId]}),e.isOwner&&!r&&(0,h.jsx)("button",{onClick:function(){return a(!0)},children:"Edit Profile"}),r?(0,h.jsx)(J,{initialValues:e.userData,userData:e.userData,onSubmit:function(s){e.saveProfile(s).then((function(){a(!1)}))}}):(0,h.jsx)(M,{userData:e.userData})]})]})},E=function(e){return console.log(e.isOwner),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Profile"}),e.userData?(0,h.jsx)(W,{isOwner:e.isOwner,saveProfile:e.saveProfile,saveImage:e.saveImage,isUploading:e.isUploading,userData:e.userData,userStatus:e.userStatus,updateUserStatus:e.updateUserStatus}):(0,h.jsx)(l.Z,{}),(0,h.jsx)(I,{})]})},q=(t(1419),t(7781)),Q=t(6871),V=function(e){(0,o.Z)(t,e);var s=(0,n.Z)(t);function t(){return(0,a.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.params.userId;"myProfile"===e&&(e=this.props.authUserId),e&&(this.props.getProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){console.log("profile comp did upd"),e.params.userId!==this.props.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(E,{isOwner:!!(this.props.authUserId&&"myProfile"===this.props.params.userId||this.props.authUserId&&this.props.params.userId==this.props.authUserId),saveProfile:this.props.saveProfile,saveImage:this.props.saveImage,isUploading:this.props.isUploading,userData:this.props.userData,userStatus:this.props.userStatus,updateUserStatus:this.props.updateUserStatus})}}]),t}(u.Component),X=(0,q.qC)((0,b.$j)((function(e){return{userData:e.profilePage.userProfileData,userStatus:e.profilePage.userStatus,isUploading:e.profilePage.isUploadingImg,authUserId:e.authData.userId}}),{getProfile:k.o7,getUserStatus:k.wS,updateUserStatus:k.o5,saveImage:k.X4,saveProfile:k.iV}))((function(e){var s=(0,Q.UO)();return(0,h.jsx)(V,(0,r.Z)((0,r.Z)({},e),{},{params:s}))}))},1243:function(e,s,t){e.exports=t.p+"static/media/User_default_avatar.277ea04b84e2d6a272ea.png"}}]);
//# sourceMappingURL=785.be16b9b3.chunk.js.map