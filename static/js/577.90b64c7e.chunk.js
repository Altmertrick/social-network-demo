"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[577],{1577:function(s,t,e){e.r(t),e.d(t,{default:function(){return A}});var r=e(8683),a=e(5671),u=e(3144),n=e(136),i=e(2882),o=e(2791),d=e(1539),c="MyPosts_myPostsWrapper__ZQ3AE",l="MyPosts_postsBlock__lB-pf",p="Post_item__Yu4oG",h=e(184),f=function(s){return(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"https://thumbs.dreamstime.com/b/avatar-icon-black-round-avatar-flat-symbol-isolated-white-background-avatar-simple-icon-avatar-abstract-icon-black-vector-124920467.jpg"})}),(0,h.jsxs)("div",{children:[s.message,(0,h.jsxs)("div",{children:["likes: ",s.likes]})]})]})},x=e(2381),j=e(6139),v=e(704),m=e(1557),S=e(8323),P=(0,m.B)(10),g=function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(j.Z,{validate:[P],name:"newPostText",component:S.F,inputTag:"textarea",type:"text",placeholder:"Write your post"})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add Post"})})]})};g=(0,v.Z)({form:"profileAddPostForm"})(g);var k=function(s){var t=s.posts.map((function(s){return(0,h.jsx)(f,{id:s.id,message:s.text,likes:s.likes})}));return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("h3",{children:"My Posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{onSubmit:function(t,e){console.log(t),s.addPost(t.newPostText),e((0,x.mc)("profileAddPostForm"))}})}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("h4",{children:"Posts:"}),t]})]})},_=e(8687),U=e(3101),b=(0,_.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,U.Pi)(t))}}}))(k),D="ProfileInfo_profileInfoWrapper__NQlSq",Z="ProfileInfo_descriptionBlock__XBXuJ",y=e(885),I=function(s){var t=(0,o.useState)(!1),e=(0,y.Z)(t,2),r=e[0],a=e[1],u=(0,o.useState)(s.userStatus),n=(0,y.Z)(u,2),i=n[0],d=n[1];(0,o.useEffect)((function(){d(s.userStatus),console.log("Use Effect")}),[s.userStatus]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onClick:function(){a(!0)},children:s.userStatus||"Status: ----"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{value:i,autoFocus:!0,onChange:function(s){d(s.target.value)},onBlur:function(){a(!1),s.updateUserStatus(i)}})})]})},w=function(s){return(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)("h3",{children:"Profile Info"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:s.userData.photos.large})}),(0,h.jsxs)("div",{className:Z,children:[(0,h.jsx)("div",{children:(0,h.jsx)("h4",{children:s.userData.fullName})}),(0,h.jsx)(I,{userStatus:s.userStatus,updateUserStatus:s.updateUserStatus}),(0,h.jsx)("div",{children:s.userData.aboutMe}),(0,h.jsxs)("div",{children:["User Id: ",s.userData.userId]})]})]})]})},N=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Profile"}),s.userData?(0,h.jsx)(w,{userData:s.userData,userStatus:s.userStatus,updateUserStatus:s.updateUserStatus}):(0,h.jsx)(d.Z,{}),(0,h.jsx)(b,{})]})},B=(e(1419),e(7781)),C=e(6871),M=function(s){(0,n.Z)(e,s);var t=(0,i.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.params.userId;"myProfile"===s&&(s=this.props.authUserId),s&&(this.props.getProfile(s),this.props.getUserStatus(s))}},{key:"render",value:function(){return(0,h.jsx)(N,{userData:this.props.userData,userStatus:this.props.userStatus,updateUserStatus:this.props.updateUserStatus})}}]),e}(o.Component),A=(0,B.qC)((0,_.$j)((function(s){return{userData:s.profilePage.userProfileData,userStatus:s.profilePage.userStatus,authUserId:s.authData.userId}}),{getProfile:U.o7,getUserStatus:U.wS,updateUserStatus:U.o5}))((function(s){var t=(0,C.UO)();return(0,h.jsx)(M,(0,r.Z)((0,r.Z)({},s),{},{params:t}))}))}}]);
//# sourceMappingURL=577.90b64c7e.chunk.js.map